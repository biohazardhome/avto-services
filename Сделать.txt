22.06.2016
На карте определять местоположение пользователя и на странице карты автосервиса прокладывать маршрут
* На карте всех автосервисов в балуне показывать сайт, почту, телефон, ссылку на отзывы с количеством
Отзывы
	@ Страница (Автосервисы в Одинцово отзывы)
		Показывать автосервисы отсортированные по количеству отзывов
	* Форма создания
	* Админка редактирование
Добавить свои контактные данные
Возможность добавить вакансии для автосервиса 

23.06.2016
* Поиск
Новые (недавно добаленные организации)
* На карту всех автосервисов добавить вывод количества автосервисов
В каталог добавить колонку время работы
В каталог добавить колонку Способы оплаты
В каталог добавить колонку Дополнительные сведения
В каталог добавить список обслуживаемых марок автомобилей
В каталог добавить список специализаций и услуг
* Добавление изображений (загрузка) при создании элемента в каталоге
* Генерация slug для элемента каталога
На странице автосервиса (элемента каталога) в карту добавить ближайшие автосервисы
* Sitemap - добавить в админку для каждого контроллера своя генерация
* Каталог - перегенерировать slug
Каталог - редиректы со старого адреса на новый

28.06.2016
* Вывод комментариев на странице позиции каталога

29.06.2016
Категории Страна -> Округ -> Область -> Город ->
Список Марок автомобилей с которыми работает автосервис
Список работ которые производит автосервис 

30.06.2016
* Генерировать slug только при создании
* К аталог состоит из сущностей (entity)

01.07.2016
Авторизация по соцсетям
Оповещения
	Владельца
		О добавлении нового отзыва
	Пользователя
		О добавлении нового автосервиса
* Загрузка изображений в сущность товара

03.07.2016
* Генерация sitemap для комментариев и карт

12.07.2016
Новые автосервисы (недавно добавленные)
* Поиск
* Перелинковка со страниц с картой на страницу сервиса
Футер
	Номера телефонов
	Почта (создать почту)

13.07.2016
Добавить автосервисы в Лобне
Записаться онлайн
Перезвонить мне
Оценки для отзывов
* Показывать похожие автосервисы по улице, по городу, по Москве
	* Разбить адрес по запятой
	Преобразовать адреса к полной форме (чтоб улицы отображались полностью [Можайское шоссе а не ш. Можайское])
* Последние отзывы (на главную)
* В создание и редактирование сущьности каталога добавить выбор адреса (списоки, выбор района (области), города, улицы, здания)
Найти библиотеку склонений
* Категории городов добавить
* Верхнее меню в boostrap верстке
Типы
	Автосервис
	Автотехцентр
	Автошкола
	Автомойка
	Шиномонтаж
	Балансировка
		(Общая группа Автомобили)
* Скрыть форму написания отзывов и показывать ее при нажатии на кнопку Оставить отзыв или Написать

14.07.2016
* Добавить загрузку изображений в каталог
* Отображать на карте автосервисы по улице
* Добавить автосервис Технолидер

18.07.2016
* Карту с автосервисами в одинцово в футер

19.07.2016
* В заголовке "Автосервисы в одинцово на карте" на главной добавить маленький серый текст "(количество сервисов) Автосервисов"
В админке не работает выход (разлогивание)

20.07.2016
* Создать таблицу городов: cities (id, name)
* Создать таблицу городов каталога: catalog_cities (id, catalog_id, city_id)
* Админка - Создание, редактирование и удаление городов
* Админка - создание сущьности каталога, добавление города в сущность (на странице создания и редактирования сущности выводит список выбора города)
Каталог - редиректы, создать таблицу редиректов каталога: catalog_redirects (id, catalog_id, slug_old)
* Для организаций каталога проставить города (индификатор города, так как пока только из ОДинцово то его и ставим)
* На главной для отзывов выводить название организации

21.07.2016
При перегенепации slug элемента каталога изменять и имя каталога и имена файлов изображений (по требованию)
* Для мета-тега description каталога, удалять теги и выводить 200 симолов (примерно) 
Добавить трансформеры для моделей
Тип организации каталога (Автосервис, Автошкола, Мойка) таблица - types, catalog_types
works, catalog_works, catalog_type_works
Кнопка ЭТО ВАША КОМПАНИЯ?
* Добавить поле slug для таблицы городов (cities)

22.07.2016
* Формы создания и редактирования в админке создовать файл form
Изменить линки компаний каталога с /catalog/компания/ на /компания/
Автосервисы в Лобне сначало выгрузить из Zoon.ru
@ Создать таблицу cities_description

23.07.2016
* Преобразовать телефоны к +7

27.07.2016
* В разделах городов в карте внизу (футуре) отоброжать компании только из этого города
С главной убрать вывод компаний из Одинцово 

30.07.2016
Загрузка прайса работ и цен (форматы - xml, yml, csv, json). Пример: кузовные работы, 1000 руб
* Админка - фильтрация, сортировка и поиск
Заточтиь главную страницу под Москву

01.08.2016
* Добавить тег каноникал на страницы пагинации и открыть их для индексации и тогда их можно использовать для перелинковки

02.08.2016
Регенерация slug в админке городов
* Добавить изображения для каталога

03.08.2016
Добавить debugbar
Определять местоположения пользователя geoip
	На главной показывать релеватные новые компании для пользователя

04.08.2016
Создать файл конфигурации, куда складывать конфиги (путь куда загружать картинки)
Добавить капчу в форму отправки отзывов для компании

09.08.2016
Перегенерировать sitemap.xml

10.08.2016
Уточнение для адреса (рядом, возле с тем-то или тем-то)
Перелинковка городов и улиц в адресе карточки компании 
Контакты
* Показывать изображения в редактировании компании
Поиск изображения которые есть в каталоге но нет в базе и обратное правило

17.08.2016
* Если преобразовывать адреса, то придеться менять урлы для старых адресов в одинцово (/map/{address})
Добавить московские города, чтобы появились страницы городов
На страницах городов добавить текст одинаковый но меняется город

18.08.2016
* КладрАпи убрать индекс из адреса
На страницах городов выводить заголовок Отзывов даже если их нет
* Выводить последнии отзывы, а нет рандомно как щас

19.08.2016
Изображения FormRequest
Админка для изображений

21.08.2016
Валидация телефонов в модели каталога
Валидация адреса в модели каталога

22.08.2016
На карте компании (в карточке компании где показывается расположение компании на карте), добавить блок (слева или права) похожии компании, ближайшии компании
	Показывать другии компании с балуном другого цвета
Марки машин (таблица марок, таблица марок каталога)
На карте отображать границу города 

23.08.2016
* Сделать редирект с карт компании со старого адреса на новый 
Создание типов компаний
На страницах списка компаний для отзывов, если их еще нет, выводить кнопку "стать первым"
* Изменить вывод адреса

24.08.2016
* Кэширование Expires, Cache-Control, Last-Modifed и ETag
Сжатие скриптов и картинок
Версенирование скриптов
Яндекс Карты - подгружать вначале статические карты, и только при клике на них - заменять их динамическими.

25.08.2016
На страницах городов изменить вывод адресов компаний
@ Функционал добавления компании в нескольких городах
	Несколько адресов
* Переделать чтоб компания могла быть только в одном городе
СЕО модуль, таблица с морфной связью

26.08.2016
На странице компании в блоках похожие компании, сделать большую вероятность показа компании у которой приритет больше чем у других
В создании и редактировании компании добавить проверку что такого slug нет в таблице городов 

29.08.2016
* Переделать карты

01.09.2016
* В админке создания компании каталога, выводить список типа услуги компании
Сделать вывод списка компаний плитками, при наведении на которые они подсвечиваются (hover) 
* Добавить для типа услуг фразы в единственном числе (имя колонки в таблице singular)

07.09.2016
Перенести все методы генерации sitemap в контроллер SitemapController, создать задание на обновленеие (перегенирацию) файлов

18.09.2016
* Создать страницы карт городов (пример /map/odintsovo/ выводит все автосервисы в одинцово)

19.09.2016
* Страницы типа услуг /autoservice и /odintsovo/autoservice
* Исравить изображения в компаниях, не показываются

25.09.2016
Геолокация

27.09.2016
* ДЛя карт сделать страницы город-сервис (/map/odintsovo/autoservice/)

04.10.2016
Страницы типа услуг
Запрет индексации страниц /map/city/service/ (дубль /map/city/)
Создать контроллеры CityController и ServiceController
Создание компании пользователем
Разное описание (татйтл, дескрипшен и т.д.) для страниц сервисов, городов и город-сервис

05.10.2016
Колонка в таблице сервесов в предложном падеже 

06.10.2016
Перегенерировать sitemap

07.10.2016
* В картах выводить топ компаний



Docker
Git - показать все изменения файла
Positions - сервер обновлений



В админке не работает выход (разлогивание)
При перегенепации slug элемента каталога изменять и имя каталога и имена файлов изображений (по требованию)
Новые автосервисы (недавно добавленные)
Каталог - редиректы со старого адреса на новый



composer install, composer update


INSERT INTO catalog_cities (id, catalog_id, city_id) select null, id, 1 from catalog - для заполнения города Одинцово во все компании каталога
select address from catalog c left join catalog_cities as cc on cc.catalog_id=c.id where c.id != 71 and cc.city_id=1 - все компании из города 1 - Одинцово, кроме компании по id 71
update catalog c left join catalog_cities cc on cc.catalog_id=c.catalog_id set c.city_id=cc.city_id - перенести города из таблицы catalog_cities в catalog

Что должно происходить при pull git
	composer install
	composer update
	composer dump-autoload
	php artisan clear-compiled
	php artisan optimize
	php artisan migrate

